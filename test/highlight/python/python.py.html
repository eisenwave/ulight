<h- data-h=cmt_dlim>#</h-><h- data-h=cmt>!/usr/bin/env python3</h->
<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> -*- coding: utf-8 -*-</h->
<h- data-h=str_dlim>"""</h-><h- data-h=str>Python syntax-highlighting stress test.
This file intentionally contains a very wide variety of Python language features,
idioms, punctuation, and corner cases so that syntax highlighters can be tested.
Do not use this file as production code â€” it's deliberately noisy.
</h-><h- data-h=str_dlim>"""</h->

<h- data-h=kw>from</h-> <h- data-h=name>__future__</h-> <h- data-h=kw>import</h-> <h- data-h=name>annotations</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>generator_stop</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Standard library imports (multiple styles)</h->
<h- data-h=kw>import</h-> <h- data-h=name>sys</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>os</h-> <h- data-h=kw>as</h-> <h- data-h=name>_os</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>math</h->
<h- data-h=kw>from</h-> <h- data-h=name>collections</h-> <h- data-h=kw>import</h-> <h- data-h=name>defaultdict</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>namedtuple</h-> <h- data-h=kw>as</h-> <h- data-h=name>NT</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>deque</h->
<h- data-h=kw>from</h-> <h- data-h=name>dataclasses</h-> <h- data-h=kw>import</h-> <h- data-h=name>dataclass</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>field</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>InitVar</h->
<h- data-h=kw>from</h-> <h- data-h=name>typing</h-> <h- data-h=kw>import</h-> <h- data-h=sym_par>(</h->
    <h- data-h=name>Any</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>Callable</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>Dict</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>Iterable</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>Iterator</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>List</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>Optional</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>Tuple</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>Union</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>TypeVar</h-><h- data-h=sym_punc>,</h->
    <h- data-h=name>Generic</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>Protocol</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>runtime_checkable</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>Final</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>NewType</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>Literal</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>Annotated</h->
<h- data-h=sym_par>)</h->
<h- data-h=kw>import</h-> <h- data-h=name>asyncio</h->
<h- data-h=kw>import</h-> <h- data-h=name>re</h->
<h- data-h=kw>import</h-> <h- data-h=name>logging</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Shebang, encoding comment, and weird unicode identifier</h->
<h- data-h=name>Î»</h-> <h- data-h=sym_punc>=</h-> <h- data-h=num>3</h-><h- data-h=num_dlim>.</h-><h- data-h=num>14</h->  <h- data-h=cmt_dlim>#</h-><h- data-h=cmt> non-ascii variable name</h->
<h- data-h=name>EMOJI_VAR_</h-><h- data-h=err>ðŸ’¡</h-> <h- data-h=sym_punc>=</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>emoji</h-><h- data-h=str_dlim>'</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Type constructs</h->
<h- data-h=name>T</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>TypeVar</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>'</h-><h- data-h=str>T</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_par>)</h->
<h- data-h=name>UserId</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>NewType</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>'</h-><h- data-h=str>UserId</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>int</h-><h- data-h=sym_par>)</h->
<h- data-h=name>MAX</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>Final</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>float</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_par>(</h-><h- data-h=num>1</h-><h- data-h=num_dlim>.</h-><h- data-h=num>0</h-><h- data-h=sym_par>)</h->

<h- data-h=name>LiteralChoice</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>Literal</h-><h- data-h=sym_sqr>[</h-><h- data-h=str_dlim>'</h-><h- data-h=str>a</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>b</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>1</h-><h- data-h=sym_sqr>]</h->
<h- data-h=name>AnnotatedInt</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>Annotated</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>int</h-><h- data-h=sym_punc>,</h-> <h- data-h=str_dlim>"</h-><h- data-h=str>must be positive</h-><h- data-h=str_dlim>"</h-><h- data-h=sym_sqr>]</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Comments with keywords: TODO, FIXME</h->
<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> TODO: this is a test</h->
<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> FIXME: nothing to fix</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Module-level constant with complex literal: underscores, imaginary</h->
<h- data-h=name>COMPLEX_CONST</h-> <h- data-h=sym_punc>=</h-> <h- data-h=num>1</h-><h- data-h=num_dlim>_</h-><h- data-h=num>000</h-><h- data-h=num_dlim>_</h-><h- data-h=num>000</h-> <h- data-h=sym_op>+</h-> <h- data-h=num>3</h-><h- data-h=num_dlim>.</h-><h- data-h=num>5</h-><h- data-h=num_deco>j</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Multi-line and single-line docstrings</h->
<h- data-h=kw>class</h-> <h- data-h=name>_Hidden</h-><h- data-h=sym_punc>:</h->
    <h- data-h=str_dlim>"""</h-><h- data-h=str>A hidden helper with a triple-quoted docstring and
    indentation that spans multiple lines.
    </h-><h- data-h=str_dlim>"""</h->
    <h- data-h=kw_ctrl>pass</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> DataClass with defaults, InitVar, slots, kw-only args, repr customization</h->
<h- data-h=sym_op>@</h-><h- data-h=name>dataclass</h-><h- data-h=sym_par>(</h-><h- data-h=name>slots</h-><h- data-h=sym_punc>=</h-><h- data-h=bool>True</h-><h- data-h=sym_par>)</h->
<h- data-h=kw>class</h-> <h- data-h=name>Person</h-><h- data-h=sym_punc>:</h->
    <h- data-h=name>id</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>UserId</h->
    <h- data-h=name>name</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>str</h-> <h- data-h=sym_punc>=</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>Anonymous</h-><h- data-h=str_dlim>'</h->
    <h- data-h=name>tags</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>List</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>str</h-><h- data-h=sym_sqr>]</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>field</h-><h- data-h=sym_par>(</h-><h- data-h=name>default_factory</h-><h- data-h=sym_punc>=</h-><h- data-h=name>list</h-><h- data-h=sym_par>)</h->
    <h- data-h=name>_secret</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>InitVar</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>Optional</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>str</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_sqr>]</h-> <h- data-h=sym_punc>=</h-> <h- data-h=null>None</h->

    <h- data-h=kw>def</h-> <h- data-h=name>__post_init__</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>_secret</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>Optional</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>str</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>if</h-> <h- data-h=name>_secret</h-><h- data-h=sym_punc>:</h->
            <h- data-h=name>self</h-><h- data-h=sym_punc>.</h-><h- data-h=name>tags</h-><h- data-h=sym_punc>.</h-><h- data-h=name>append</h-><h- data-h=sym_par>(</h-><h- data-h=str_deco>f</h-><h- data-h=str_dlim>"</h-><h- data-h=str>secret:{_secret}</h-><h- data-h=str_dlim>"</h-><h- data-h=sym_par>)</h->

    <h- data-h=kw>def</h-> <h- data-h=name>__repr__</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_punc>-&gt;</h-> <h- data-h=name>str</h-><h- data-h=sym_punc>:</h->  <h- data-h=cmt_dlim>#</h-><h- data-h=cmt> override repr</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=str_deco>f</h-><h- data-h=str_dlim>"</h-><h- data-h=str>Person(id={self.id!r}, name={self.name!r})</h-><h- data-h=str_dlim>"</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Enum-like class and usage of bitwise ops, shifts</h->
<h- data-h=kw>class</h-> <h- data-h=name>Flags</h-><h- data-h=sym_par>(</h-><h- data-h=name>int</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
    <h- data-h=name>READ</h-> <h- data-h=sym_punc>=</h-> <h- data-h=num_deco>0b</h-><h- data-h=num>0001</h->
    <h- data-h=name>WRITE</h-> <h- data-h=sym_punc>=</h-> <h- data-h=num_deco>0b</h-><h- data-h=num>0010</h->
    <h- data-h=name>EXEC</h-> <h- data-h=sym_punc>=</h-> <h- data-h=num_deco>0b</h-><h- data-h=num>0100</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Descriptor example</h->
<h- data-h=kw>class</h-> <h- data-h=name>ReprDescriptor</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw>def</h-> <h- data-h=name>__get__</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>obj</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>objtype</h-><h- data-h=sym_punc>=</h-><h- data-h=null>None</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=str_deco>f</h-><h- data-h=str_dlim>"</h-><h- data-h=str>&lt;repr of {obj!r}&gt;</h-><h- data-h=str_dlim>"</h->


<h- data-h=kw>class</h-> <h- data-h=name>Container</h-><h- data-h=sym_punc>:</h->
    <h- data-h=name>descr</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>ReprDescriptor</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h->

    <h- data-h=kw>def</h-> <h- data-h=name>__init__</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>*</h-><h- data-h=name>args</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>**</h-><h- data-h=name>kwargs</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=name>self</h-><h- data-h=sym_punc>.</h-><h- data-h=name>_data</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>list</h-><h- data-h=sym_par>(</h-><h- data-h=name>args</h-><h- data-h=sym_par>)</h->

    <h- data-h=kw>def</h-> <h- data-h=name>__len__</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=name>len</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_punc>.</h-><h- data-h=name>_data</h-><h- data-h=sym_par>)</h->

    <h- data-h=kw>def</h-> <h- data-h=name>__iter__</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=name>iter</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_punc>.</h-><h- data-h=name>_data</h-><h- data-h=sym_par>)</h->

    <h- data-h=kw>def</h-> <h- data-h=name>__contains__</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>item</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=name>item</h-> <h- data-h=kw>in</h-> <h- data-h=name>self</h-><h- data-h=sym_punc>.</h-><h- data-h=name>_data</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Metaclass, __new__, __init_subclass__</h->
<h- data-h=kw>class</h-> <h- data-h=name>VerboseMeta</h-><h- data-h=sym_par>(</h-><h- data-h=name>type</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw>def</h-> <h- data-h=name>__new__</h-><h- data-h=sym_par>(</h-><h- data-h=name>mcls</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>name</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>bases</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>ns</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=name>ns</h-><h- data-h=sym_punc>.</h-><h- data-h=name>setdefault</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>'</h-><h- data-h=str>__created_with_meta__</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=bool>True</h-><h- data-h=sym_par>)</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=name>super</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>.</h-><h- data-h=name>__new__</h-><h- data-h=sym_par>(</h-><h- data-h=name>mcls</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>name</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>bases</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>ns</h-><h- data-h=sym_par>)</h->


<h- data-h=kw>class</h-> <h- data-h=name>Base</h-><h- data-h=sym_par>(</h-><h- data-h=name>metaclass</h-><h- data-h=sym_punc>=</h-><h- data-h=name>VerboseMeta</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw>def</h-> <h- data-h=name>__init_subclass__</h-><h- data-h=sym_par>(</h-><h- data-h=name>cls</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>/</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>**</h-><h- data-h=name>kwargs</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=name>super</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>.</h-><h- data-h=name>__init_subclass__</h-><h- data-h=sym_par>(</h-><h- data-h=sym_op>**</h-><h- data-h=name>kwargs</h-><h- data-h=sym_par>)</h->
        <h- data-h=name>cls</h-><h- data-h=sym_punc>.</h-><h- data-h=name>_subclass_marker</h-> <h- data-h=sym_punc>=</h-> <h- data-h=bool>True</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Generator, generator delegation, send(), throw(), close()</h->
<h- data-h=kw>def</h-> <h- data-h=name>gen_example</h-><h- data-h=sym_par>(</h-><h- data-h=name>n</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>int</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_punc>-&gt;</h-> <h- data-h=name>Iterator</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>int</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>yield</h-> <h- data-h=kw>from</h-> <h- data-h=sym_par>(</h-><h- data-h=name>i</h-> <h- data-h=kw_ctrl>for</h-> <h- data-h=name>i</h-> <h- data-h=kw>in</h-> <h- data-h=name>range</h-><h- data-h=sym_par>(</h-><h- data-h=name>n</h-><h- data-h=sym_par>)</h-> <h- data-h=kw_ctrl>if</h-> <h- data-h=name>i</h-> <h- data-h=sym_op>%</h-> <h- data-h=num>2</h-> <h- data-h=sym_op>==</h-> <h- data-h=num>0</h-><h- data-h=sym_par>)</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Async features</h->
<h- data-h=kw>async</h-> <h- data-h=kw>def</h-> <h- data-h=name>coro_sleep_and_return</h-><h- data-h=sym_par>(</h-><h- data-h=name>x</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>int</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_punc>-&gt;</h-> <h- data-h=name>int</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>await</h-> <h- data-h=name>asyncio</h-><h- data-h=sym_punc>.</h-><h- data-h=name>sleep</h-><h- data-h=sym_par>(</h-><h- data-h=num>0</h-><h- data-h=sym_par>)</h->  <h- data-h=cmt_dlim>#</h-><h- data-h=cmt> yield control</h->
    <h- data-h=kw_ctrl>return</h-> <h- data-h=name>x</h-> <h- data-h=sym_op>*</h-> <h- data-h=num>2</h->


<h- data-h=kw>async</h-> <h- data-h=kw>def</h-> <h- data-h=name>async_iter_example</h-><h- data-h=sym_par>(</h-><h- data-h=name>n</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>int</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>for</h-> <h- data-h=name>i</h-> <h- data-h=kw>in</h-> <h- data-h=name>range</h-><h- data-h=sym_par>(</h-><h- data-h=name>n</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>yield</h-> <h- data-h=name>i</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Context managers (sync + async)</h->
<h- data-h=kw>from</h-> <h- data-h=name>contextlib</h-> <h- data-h=kw>import</h-> <h- data-h=name>contextmanager</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>asynccontextmanager</h->

<h- data-h=sym_op>@</h-><h- data-h=name>contextmanager</h->
<h- data-h=kw>def</h-> <h- data-h=name>demo_ctx</h-><h- data-h=sym_par>(</h-><h- data-h=name>x</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>try</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>yield</h-> <h- data-h=str_deco>f</h-><h- data-h=str_dlim>"</h-><h- data-h=str>enter:{x}</h-><h- data-h=str_dlim>"</h->
    <h- data-h=kw_ctrl>finally</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>pass</h->

<h- data-h=sym_op>@</h-><h- data-h=name>asynccontextmanager</h->
<h- data-h=kw>async</h-> <h- data-h=kw>def</h-> <h- data-h=name>demo_async_ctx</h-><h- data-h=sym_par>(</h-><h- data-h=name>x</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>try</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>yield</h-> <h- data-h=str_deco>f</h-><h- data-h=str_dlim>"</h-><h- data-h=str>aenter:{x}</h-><h- data-h=str_dlim>"</h->
    <h- data-h=kw_ctrl>finally</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>pass</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Regular expressions: raw strings, verbose, backrefs</h->
<h- data-h=name>RE_NUM</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>re</h-><h- data-h=sym_punc>.</h-><h- data-h=name>compile</h-><h- data-h=sym_par>(</h-><h- data-h=str_deco>r</h-><h- data-h=str_dlim>"</h-><h- data-h=str>(?P&lt;int&gt;</h-><h- data-h=str_esc>\d</h-><h- data-h=str>+)(?:</h-><h- data-h=str_esc>\.</h-><h- data-h=str>(?P&lt;frac&gt;</h-><h- data-h=str_esc>\d</h-><h- data-h=str>+))?</h-><h- data-h=str_dlim>"</h-><h- data-h=sym_par>)</h->
<h- data-h=name>RE_VERBOSE</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>re</h-><h- data-h=sym_punc>.</h-><h- data-h=name>compile</h-><h- data-h=sym_par>(</h-><h- data-h=str_deco>r</h-><h- data-h=str_dlim>"</h-><h- data-h=str>(?x)  # verbose regex</h-><h- data-h=str_esc>\n</h-><h- data-h=str>    (</h-><h- data-h=str_esc>\d</h-><h- data-h=str>{1,3})  # 1-3 digits</h-><h- data-h=str_esc>\n</h-><h- data-h=str>    (?:,</h-><h- data-h=str_esc>\s</h-><h- data-h=str>*</h-><h- data-h=str_esc>\d</h-><h- data-h=str>{3})*  # optional comma groups</h-><h- data-h=str_esc>\"</h-><h- data-h=str>)</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Complex f-strings, raw f-strings (Python f-strings don't accept r before f in older Pythons,</h->
<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> but many highlighters should still accept f r combinations as tokens in either order)</h->
<h- data-h=name>name</h-> <h- data-h=sym_punc>=</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>Alice</h-><h- data-h=str_dlim>'</h->
<h- data-h=name>msg</h-> <h- data-h=sym_punc>=</h-> <h- data-h=str_deco>f</h-><h- data-h=str_dlim>"</h-><h- data-h=str>Hello, {name!s} â€” value is {COMPLEX_CONST:.2f}</h-><h- data-h=str_dlim>"</h->
<h- data-h=name>raw_bytes</h-> <h- data-h=sym_punc>=</h-> <h- data-h=str_deco>r</h-><h- data-h=str_dlim>"</h-><h- data-h=str_esc>\n</h-><h- data-h=str_esc>\t</h-><h- data-h=str_esc>\\</h-><h- data-h=str_dlim>"</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Bytes and bytearray</h->
<h- data-h=name>b</h-> <h- data-h=sym_punc>=</h-> <h- data-h=str_deco>b</h-><h- data-h=str_dlim>"</h-><h- data-h=str_esc>\x00</h-><h- data-h=str_esc>\xff</h-><h- data-h=str_dlim>"</h->
<h- data-h=name>br</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>bytearray</h-><h- data-h=sym_par>(</h-><h- data-h=name>b</h-><h- data-h=sym_par>)</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Lambdas, nested lambdas, default mutable argument (bad but intentionally present)</h->
<h- data-h=kw>def</h-> <h- data-h=name>make_adder</h-><h- data-h=sym_par>(</h-><h- data-h=name>x</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>/</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>*</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>scale</h-><h- data-h=sym_punc>=</h-><h- data-h=num>1</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>return</h-> <h- data-h=kw>lambda</h-> <h- data-h=name>y</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>z</h-><h- data-h=sym_punc>=</h-><h- data-h=num>0</h-><h- data-h=sym_punc>:</h-> <h- data-h=sym_par>(</h-><h- data-h=name>x</h-> <h- data-h=sym_op>+</h-> <h- data-h=name>y</h-> <h- data-h=sym_op>+</h-> <h- data-h=name>z</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>*</h-> <h- data-h=name>scale</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Function with positional-only, keyword-only, varargs, kwargs, annotations, default factories</h->
<h- data-h=kw>def</h-> <h- data-h=name>fancy</h-><h- data-h=sym_par>(</h-><h- data-h=name>a</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>b</h-><h- data-h=sym_punc>=</h-><h- data-h=num>2</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>/</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>c</h-><h- data-h=sym_punc>=</h-><h- data-h=num>3</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>*</h-><h- data-h=name>args</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>int</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>d</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>int</h-> <h- data-h=sym_punc>=</h-> <h- data-h=num>4</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>e</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>int</h-> <h- data-h=sym_punc>=</h-> <h- data-h=num>5</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>**</h-><h- data-h=name>kwargs</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_punc>-&gt;</h-> <h- data-h=name>Tuple</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>int</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_punc>...</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_punc>:</h->
    <h- data-h=str_dlim>"""</h-><h- data-h=str>Fancy function demonstrating many parameter styles.</h-><h- data-h=str_dlim>"""</h->
    <h- data-h=kw_ctrl>return</h-> <h- data-h=sym_par>(</h-><h- data-h=name>a</h-> <h- data-h=sym_op>+</h-> <h- data-h=name>b</h-> <h- data-h=sym_op>+</h-> <h- data-h=name>c</h-> <h- data-h=sym_op>+</h-> <h- data-h=name>d</h-> <h- data-h=sym_op>+</h-> <h- data-h=name>e</h-> <h- data-h=sym_op>+</h-> <h- data-h=name>sum</h-><h- data-h=sym_par>(</h-><h- data-h=name>args</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>kwargs</h-><h- data-h=sym_punc>.</h-><h- data-h=name>get</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>'</h-><h- data-h=str>extra</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>0</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Walrus operator and complex assignment</h->
<h- data-h=kw>def</h-> <h- data-h=name>walrus_demo</h-><h- data-h=sym_par>(</h-><h- data-h=name>seq</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>Iterable</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>int</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>if</h-> <h- data-h=sym_par>(</h-><h- data-h=name>n</h-> <h- data-h=sym_op>:=</h-> <h- data-h=name>sum</h-><h- data-h=sym_par>(</h-><h- data-h=name>seq</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_op>&gt;</h-> <h- data-h=num>10</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=name>n</h->
    <h- data-h=kw_ctrl>return</h-> <h- data-h=num>0</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Pattern matching (structural) - Python 3.10+</h->
<h- data-h=kw>def</h-> <h- data-h=name>pattern_demo</h-><h- data-h=sym_par>(</h-><h- data-h=name>value</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>Any</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_punc>-&gt;</h-> <h- data-h=name>str</h-><h- data-h=sym_punc>:</h->
    <h- data-h=name>match</h-> <h- data-h=name>value</h-><h- data-h=sym_punc>:</h->
        <h- data-h=name>case</h-> <h- data-h=num>0</h-><h- data-h=sym_punc>:</h->
            <h- data-h=kw_ctrl>return</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>zero</h-><h- data-h=str_dlim>'</h->
        <h- data-h=name>case</h-> <h- data-h=sym_sqr>[</h-><h- data-h=name>x</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>y</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_punc>:</h->
            <h- data-h=kw_ctrl>return</h-> <h- data-h=str_deco>f</h-><h- data-h=str_dlim>'</h-><h- data-h=str>pair:{x},{y}</h-><h- data-h=str_dlim>'</h->
        <h- data-h=name>case</h-> <h- data-h=sym_brac>{</h-><h- data-h=str_dlim>'</h-><h- data-h=str>id</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>int</h-><h- data-h=sym_par>(</h-><h- data-h=name>id_val</h-><h- data-h=sym_par>)</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>:</h->
            <h- data-h=kw_ctrl>return</h-> <h- data-h=str_deco>f</h-><h- data-h=str_dlim>"</h-><h- data-h=str>has-id:{id_val}</h-><h- data-h=str_dlim>"</h->
        <h- data-h=name>case</h-> <h- data-h=name>_</h-><h- data-h=sym_punc>:</h->
            <h- data-h=kw_ctrl>return</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>other</h-><h- data-h=str_dlim>'</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Typed dict and Protocols (typing)</h->
<h- data-h=kw>class</h-> <h- data-h=name>SupportsClose</h-><h- data-h=sym_par>(</h-><h- data-h=name>Protocol</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw>def</h-> <h- data-h=name>close</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_punc>-&gt;</h-> <h- data-h=null>None</h-><h- data-h=sym_punc>:</h-> <h- data-h=sym_punc>...</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Complex comprehensions, unpacking, generator expressions</h->
<h- data-h=name>comp</h-> <h- data-h=sym_punc>=</h-> <h- data-h=sym_sqr>[</h-><h- data-h=name>x</h-><h- data-h=sym_op>**</h-><h- data-h=num>2</h-> <h- data-h=kw_ctrl>for</h-> <h- data-h=name>x</h-> <h- data-h=kw>in</h-> <h- data-h=name>range</h-><h- data-h=sym_par>(</h-><h- data-h=num>10</h-><h- data-h=sym_par>)</h-> <h- data-h=kw_ctrl>if</h-> <h- data-h=name>x</h-> <h- data-h=sym_op>%</h-> <h- data-h=num>2</h-> <h- data-h=sym_op>==</h-> <h- data-h=num>0</h-><h- data-h=sym_sqr>]</h->
<h- data-h=name>set_comp</h-> <h- data-h=sym_punc>=</h-> <h- data-h=sym_brac>{</h-><h- data-h=name>x</h-> <h- data-h=kw_ctrl>for</h-> <h- data-h=name>x</h-> <h- data-h=kw>in</h-> <h- data-h=name>range</h-><h- data-h=sym_par>(</h-><h- data-h=num>5</h-><h- data-h=sym_par>)</h-><h- data-h=sym_brac>}</h->
<h- data-h=name>map_comp</h-> <h- data-h=sym_punc>=</h-> <h- data-h=sym_brac>{</h-><h- data-h=sym_op>**</h-><h- data-h=sym_brac>{</h-><h- data-h=str_dlim>'</h-><h- data-h=str>a</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>:</h-> <h- data-h=num>1</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>**</h-><h- data-h=sym_brac>{</h-><h- data-h=str_dlim>'</h-><h- data-h=str>b</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>:</h-> <h- data-h=num>2</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->

<h- data-h=name>nested_comp</h-> <h- data-h=sym_punc>=</h-> <h- data-h=sym_sqr>[</h-><h- data-h=sym_par>(</h-><h- data-h=name>i</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>j</h-><h- data-h=sym_par>)</h-> <h- data-h=kw_ctrl>for</h-> <h- data-h=name>i</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>row</h-> <h- data-h=kw>in</h-> <h- data-h=name>enumerate</h-><h- data-h=sym_par>(</h-><h- data-h=sym_sqr>[</h-><h- data-h=sym_sqr>[</h-><h- data-h=num>1</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>2</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_sqr>[</h-><h- data-h=num>3</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>4</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_par>)</h-> <h- data-h=kw_ctrl>for</h-> <h- data-h=name>j</h-> <h- data-h=kw>in</h-> <h- data-h=name>row</h-><h- data-h=sym_sqr>]</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Extended slices</h->
<h- data-h=name>s</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>list</h-><h- data-h=sym_par>(</h-><h- data-h=name>range</h-><h- data-h=sym_par>(</h-><h- data-h=num>10</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h-><h- data-h=sym_sqr>[</h-><h- data-h=num>1</h-><h- data-h=sym_punc>:</h-><h- data-h=num>8</h-><h- data-h=sym_punc>:</h-><h- data-h=num>2</h-><h- data-h=sym_sqr>]</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Ellipsis and None used as literal tokens</h->
<h- data-h=name>ellipsis_example</h-> <h- data-h=sym_punc>=</h-> <h- data-h=sym_par>(</h-><h- data-h=sym_punc>...</h-><h- data-h=sym_punc>,</h-> <h- data-h=null>None</h-><h- data-h=sym_par>)</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Multiple statements on one line, semicolons</h->
<h- data-h=name>x</h-> <h- data-h=sym_punc>=</h-> <h- data-h=num>1</h-><h- data-h=sym_punc>;</h-> <h- data-h=name>y</h-> <h- data-h=sym_punc>=</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>;</h-> <h- data-h=name>z</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>x</h-> <h- data-h=sym_op>+</h-> <h- data-h=name>y</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Chained comparisons and ternary</h->
<h- data-h=name>is_between</h-> <h- data-h=sym_punc>=</h-> <h- data-h=num>1</h-> <h- data-h=sym_op>&lt;</h-> <h- data-h=name>x</h-> <h- data-h=sym_op>&lt;</h-> <h- data-h=num>5</h->
<h- data-h=name>tern</h-> <h- data-h=sym_punc>=</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>yes</h-><h- data-h=str_dlim>'</h-> <h- data-h=kw_ctrl>if</h-> <h- data-h=name>x</h-> <h- data-h=sym_op>&gt;</h-> <h- data-h=num>0</h-> <h- data-h=kw_ctrl>else</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>no</h-><h- data-h=str_dlim>'</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Complex slicing with negative step</h->
<h- data-h=name>slice_example</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>tuple</h-><h- data-h=sym_par>(</h-><h- data-h=name>range</h-><h- data-h=sym_par>(</h-><h- data-h=sym_op>-</h-><h- data-h=num>5</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>5</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h-><h- data-h=sym_sqr>[</h-><h- data-h=sym_punc>:</h-><h- data-h=sym_punc>:</h-><h- data-h=sym_op>-</h-><h- data-h=num>1</h-><h- data-h=sym_sqr>]</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Exception handling variations</h->
<h- data-h=kw_ctrl>try</h-><h- data-h=sym_punc>:</h->
    <h- data-h=num>1</h-> <h- data-h=sym_op>/</h-> <h- data-h=num>0</h->
<h- data-h=kw_ctrl>except</h-> <h- data-h=name>ZeroDivisionError</h-> <h- data-h=kw>as</h-> <h- data-h=name>e</h-><h- data-h=sym_punc>:</h->
    <h- data-h=name>logging</h-><h- data-h=sym_punc>.</h-><h- data-h=name>exception</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>'</h-><h- data-h=str>division failed: %s</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>e</h-><h- data-h=sym_par>)</h->
<h- data-h=kw_ctrl>except</h-> <h- data-h=name>Exception</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>raise</h->
<h- data-h=kw_ctrl>finally</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>pass</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Raising with from</h->
<h- data-h=kw>class</h-> <h- data-h=name>MyError</h-><h- data-h=sym_par>(</h-><h- data-h=name>Exception</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>pass</h->

<h- data-h=kw_ctrl>try</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>raise</h-> <h- data-h=name>MyError</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>'</h-><h- data-h=str>top</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_par>)</h->
<h- data-h=kw_ctrl>except</h-> <h- data-h=name>MyError</h-> <h- data-h=kw>as</h-> <h- data-h=name>e</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>raise</h-> <h- data-h=name>RuntimeError</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>'</h-><h- data-h=str>wrapped</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>from</h-> <h- data-h=name>e</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Use of assert and inspect</h->
<h- data-h=kw>assert</h-> <h- data-h=name>isinstance</h-><h- data-h=sym_par>(</h-><h- data-h=name>name</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>str</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>,</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>name must be str</h-><h- data-h=str_dlim>'</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Dynamic code: eval/exec (strings included), compile</h->
<h- data-h=name>_dynamic_code</h-> <h- data-h=sym_punc>=</h-> <h- data-h=str_dlim>"""</h-><h- data-h=str>
def dyn(x):
    return x * x
</h-><h- data-h=str_dlim>"""</h->
<h- data-h=name>exec</h-><h- data-h=sym_par>(</h-><h- data-h=name>_dynamic_code</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>globals</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Use of subprocess-like pattern (but not executing external code here)</h->
<h- data-h=name>CMD</h-> <h- data-h=sym_punc>=</h-> <h- data-h=sym_sqr>[</h-><h- data-h=str_dlim>'</h-><h- data-h=str>echo</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>hello</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_sqr>]</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> File handling with encoding and weird newline</h->
<h- data-h=kw>with</h-> <h- data-h=name>open</h-><h- data-h=sym_par>(</h-><h- data-h=name>__file__</h-><h- data-h=sym_punc>,</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>r</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>encoding</h-><h- data-h=sym_punc>=</h-><h- data-h=str_dlim>'</h-><h- data-h=str>utf-8</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>newline</h-><h- data-h=sym_punc>=</h-><h- data-h=str_dlim>'</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>as</h-> <h- data-h=name>_f</h-><h- data-h=sym_punc>:</h->  <h- data-h=cmt_dlim>#</h-><h- data-h=cmt> type: ignore</h->
    <h- data-h=name>_first_line</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>_f</h-><h- data-h=sym_punc>.</h-><h- data-h=name>readline</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Complex data structures: nested dicts, tuples, frozenset</h->
<h- data-h=name>big</h-> <h- data-h=sym_punc>=</h-> <h- data-h=sym_brac>{</h->
    <h- data-h=str_dlim>'</h-><h- data-h=str>numbers</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>:</h-> <h- data-h=sym_sqr>[</h-><h- data-h=num>1</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>3</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_punc>,</h->
    <h- data-h=str_dlim>'</h-><h- data-h=str>mapping</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>:</h-> <h- data-h=sym_brac>{</h-><h- data-h=str_dlim>'</h-><h- data-h=str>a</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>:</h-> <h- data-h=sym_par>(</h-><h- data-h=num>1</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>3</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>,</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>b</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>:</h-> <h- data-h=sym_brac>{</h-><h- data-h=num>1</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>2</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_punc>,</h->
    <h- data-h=str_dlim>'</h-><h- data-h=str>frozen</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>frozenset</h-><h- data-h=sym_par>(</h-><h- data-h=sym_brac>{</h-><h- data-h=num>1</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>3</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_par>)</h->
<h- data-h=sym_brac>}</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Unicode escapes inside strings and raw f-strings</h->
<h- data-h=name>unicode_str</h-> <h- data-h=sym_punc>=</h-> <h- data-h=str_dlim>"</h-><h- data-h=str>Unicode: </h-><h- data-h=str_esc>\u2603</h-><h- data-h=str_dlim>"</h->
<h- data-h=name>raw_f</h-> <h- data-h=sym_punc>=</h-> <h- data-h=str_deco>fr</h-><h- data-h=str_dlim>"</h-><h- data-h=str>path:</h-><h- data-h=str_esc>\\</h-><h- data-h=str>home</h-><h- data-h=str_esc>\\</h-><h- data-h=str>{name}</h-><h- data-h=str_dlim>"</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Decorators: stacking, classmethod, staticmethod, property</h->
<h- data-h=kw>def</h-> <h- data-h=name>deco</h-><h- data-h=sym_par>(</h-><h- data-h=name>fn</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>Callable</h-><h- data-h=sym_sqr>[</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>T</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>T</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_punc>-&gt;</h-> <h- data-h=name>Callable</h-><h- data-h=sym_sqr>[</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>T</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>T</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw>def</h-> <h- data-h=name>wrapper</h-><h- data-h=sym_par>(</h-><h- data-h=sym_op>*</h-><h- data-h=name>a</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>**</h-><h- data-h=name>k</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=name>fn</h-><h- data-h=sym_par>(</h-><h- data-h=sym_op>*</h-><h- data-h=name>a</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>**</h-><h- data-h=name>k</h-><h- data-h=sym_par>)</h->
    <h- data-h=kw_ctrl>return</h-> <h- data-h=name>wrapper</h->

<h- data-h=sym_op>@</h-><h- data-h=name>deco</h->
<h- data-h=sym_op>@</h-><h- data-h=name>deco</h->
<h- data-h=kw>def</h-> <h- data-h=name>decorated</h-><h- data-h=sym_par>(</h-><h- data-h=name>x</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>int</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_punc>-&gt;</h-> <h- data-h=name>int</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>return</h-> <h- data-h=name>x</h-> <h- data-h=sym_op>+</h-> <h- data-h=num>1</h->

<h- data-h=kw>class</h-> <h- data-h=name>WithProps</h-><h- data-h=sym_punc>:</h->
    <h- data-h=sym_op>@</h-><h- data-h=name>property</h->
    <h- data-h=kw>def</h-> <h- data-h=name>read_only</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_punc>-&gt;</h-> <h- data-h=name>str</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>ro</h-><h- data-h=str_dlim>'</h->

    <h- data-h=sym_op>@</h-><h- data-h=name>staticmethod</h->
    <h- data-h=kw>def</h-> <h- data-h=name>static_meth</h-><h- data-h=sym_par>(</h-><h- data-h=name>x</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=name>x</h-> <h- data-h=sym_op>*</h-> <h- data-h=num>2</h->

    <h- data-h=sym_op>@</h-><h- data-h=name>classmethod</h->
    <h- data-h=kw>def</h-> <h- data-h=name>cls_meth</h-><h- data-h=sym_par>(</h-><h- data-h=name>cls</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=name>cls</h->

<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Operator overloading and rich comparisons</h->
<h- data-h=kw>class</h-> <h- data-h=name>Vector</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw>def</h-> <h- data-h=name>__init__</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_punc>,</h-> <h- data-h=sym_op>*</h-><h- data-h=name>coords</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>float</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=name>self</h-><h- data-h=sym_punc>.</h-><h- data-h=name>coords</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>coords</h->

    <h- data-h=kw>def</h-> <h- data-h=name>__add__</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>other</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=name>Vector</h-><h- data-h=sym_par>(</h-><h- data-h=sym_op>*</h-><h- data-h=sym_par>(</h-><h- data-h=name>a</h-> <h- data-h=sym_op>+</h-> <h- data-h=name>b</h-> <h- data-h=kw_ctrl>for</h-> <h- data-h=name>a</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>b</h-> <h- data-h=kw>in</h-> <h- data-h=name>zip</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_punc>.</h-><h- data-h=name>coords</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>other</h-><h- data-h=sym_punc>.</h-><h- data-h=name>coords</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h->

    <h- data-h=kw>def</h-> <h- data-h=name>__repr__</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=str_deco>f</h-><h- data-h=str_dlim>"</h-><h- data-h=str>Vector{self.coords}</h-><h- data-h=str_dlim>"</h->

    <h- data-h=kw>def</h-> <h- data-h=name>__len__</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=name>len</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_punc>.</h-><h- data-h=name>coords</h-><h- data-h=sym_par>)</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Coroutine protocol: __await__</h->
<h- data-h=kw>class</h-> <h- data-h=name>AwaitableThing</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw>def</h-> <h- data-h=name>__await__</h-><h- data-h=sym_par>(</h-><h- data-h=name>self</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>if</h-> <h- data-h=bool>False</h-><h- data-h=sym_punc>:</h->
            <h- data-h=kw_ctrl>yield</h->
        <h- data-h=kw_ctrl>return</h-> <h- data-h=num>42</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Async for/with and a complex async function with annotations</h->
<h- data-h=kw>async</h-> <h- data-h=kw>def</h-> <h- data-h=name>complex_async</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw>async</h-> <h- data-h=kw>with</h-> <h- data-h=name>demo_async_ctx</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>'</h-><h- data-h=str>x</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_par>)</h-> <h- data-h=kw>as</h-> <h- data-h=name>ctx</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw>async</h-> <h- data-h=kw_ctrl>for</h-> <h- data-h=name>i</h-> <h- data-h=kw>in</h-> <h- data-h=name>async_iter_example</h-><h- data-h=sym_par>(</h-><h- data-h=num>3</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>:</h->
            <h- data-h=kw_ctrl>await</h-> <h- data-h=name>asyncio</h-><h- data-h=sym_punc>.</h-><h- data-h=name>sleep</h-><h- data-h=sym_par>(</h-><h- data-h=num>0</h-><h- data-h=sym_par>)</h->


<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> Main runner: argparse, logging, conditional imports</h->
<h- data-h=kw>def</h-> <h- data-h=name>main</h-><h- data-h=sym_par>(</h-><h- data-h=name>argv</h-><h- data-h=sym_punc>:</h-> <h- data-h=name>Optional</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>List</h-><h- data-h=sym_sqr>[</h-><h- data-h=name>str</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_sqr>]</h-> <h- data-h=sym_punc>=</h-> <h- data-h=null>None</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_punc>-&gt;</h-> <h- data-h=name>int</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw>import</h-> <h- data-h=name>argparse</h->
    <h- data-h=name>parser</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>argparse</h-><h- data-h=sym_punc>.</h-><h- data-h=name>ArgumentParser</h-><h- data-h=sym_par>(</h-><h- data-h=name>description</h-><h- data-h=sym_punc>=</h-><h- data-h=str_dlim>'</h-><h- data-h=str>Syntax highlight stress test</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_par>)</h->
    <h- data-h=name>parser</h-><h- data-h=sym_punc>.</h-><h- data-h=name>add_argument</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>'</h-><h- data-h=str>--count</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>-c</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>type</h-><h- data-h=sym_punc>=</h-><h- data-h=name>int</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>default</h-><h- data-h=sym_punc>=</h-><h- data-h=num>3</h-><h- data-h=sym_par>)</h->
    <h- data-h=name>parser</h-><h- data-h=sym_punc>.</h-><h- data-h=name>add_argument</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>'</h-><h- data-h=str>--quiet</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>action</h-><h- data-h=sym_punc>=</h-><h- data-h=str_dlim>'</h-><h- data-h=str>store_true</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_par>)</h->
    <h- data-h=name>ns</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>parser</h-><h- data-h=sym_punc>.</h-><h- data-h=name>parse_args</h-><h- data-h=sym_par>(</h-><h- data-h=name>argv</h-><h- data-h=sym_par>)</h->

    <h- data-h=kw_ctrl>if</h-> <h- data-h=kw>not</h-> <h- data-h=name>ns</h-><h- data-h=sym_punc>.</h-><h- data-h=name>quiet</h-><h- data-h=sym_punc>:</h->
        <h- data-h=name>logging</h-><h- data-h=sym_punc>.</h-><h- data-h=name>basicConfig</h-><h- data-h=sym_par>(</h-><h- data-h=name>level</h-><h- data-h=sym_punc>=</h-><h- data-h=name>logging</h-><h- data-h=sym_punc>.</h-><h- data-h=name>DEBUG</h-><h- data-h=sym_par>)</h->
        <h- data-h=name>logging</h-><h- data-h=sym_punc>.</h-><h- data-h=name>info</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>'</h-><h- data-h=str>Running stress test</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_par>)</h->

    <h- data-h=cmt_dlim>#</h-><h- data-h=cmt> exercises</h->
    <h- data-h=name>p</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>Person</h-><h- data-h=sym_par>(</h-><h- data-h=name>UserId</h-><h- data-h=sym_par>(</h-><h- data-h=num>1</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>,</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>Bob</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>,</h-> <h- data-h=name>_secret</h-><h- data-h=sym_punc>=</h-><h- data-h=str_dlim>'</h-><h- data-h=str>s</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_par>)</h->
    <h- data-h=name>c</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>Container</h-><h- data-h=sym_par>(</h-><h- data-h=num>1</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>3</h-><h- data-h=sym_par>)</h->
    <h- data-h=name>v</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>Vector</h-><h- data-h=sym_par>(</h-><h- data-h=num>1</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>3</h-><h- data-h=sym_par>)</h->
    <h- data-h=name>_</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>decorated</h-><h- data-h=sym_par>(</h-><h- data-h=num>10</h-><h- data-h=sym_par>)</h->
    <h- data-h=name>_</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>make_adder</h-><h- data-h=sym_par>(</h-><h- data-h=num>5</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>(</h-><h- data-h=num>10</h-><h- data-h=sym_par>)</h->
    <h- data-h=name>_</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>walrus_demo</h-><h- data-h=sym_par>(</h-><h- data-h=sym_sqr>[</h-><h- data-h=num>1</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>2</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>3</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>4</h-><h- data-h=sym_punc>,</h-> <h- data-h=num>5</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_par>)</h->
    <h- data-h=kw_ctrl>try</h-><h- data-h=sym_punc>:</h->
        <h- data-h=cmt_dlim>#</h-><h- data-h=cmt> pattern_demo tests</h->
        <h- data-h=name>_</h-> <h- data-h=sym_punc>=</h-> <h- data-h=name>pattern_demo</h-><h- data-h=sym_par>(</h-><h- data-h=sym_brac>{</h-><h- data-h=str_dlim>'</h-><h- data-h=str>id</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>:</h-> <h- data-h=num>123</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_par>)</h->
    <h- data-h=kw_ctrl>except</h-> <h- data-h=name>Exception</h-><h- data-h=sym_punc>:</h->
        <h- data-h=kw_ctrl>pass</h->

    <h- data-h=cmt_dlim>#</h-><h- data-h=cmt> demonstrate async run</h->
    <h- data-h=kw_ctrl>try</h-><h- data-h=sym_punc>:</h->
        <h- data-h=name>asyncio</h-><h- data-h=sym_punc>.</h-><h- data-h=name>run</h-><h- data-h=sym_par>(</h-><h- data-h=name>coro_sleep_and_return</h-><h- data-h=sym_par>(</h-><h- data-h=num>2</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h->
    <h- data-h=kw_ctrl>except</h-> <h- data-h=name>RuntimeError</h-><h- data-h=sym_punc>:</h->
        <h- data-h=cmt_dlim>#</h-><h- data-h=cmt> nested event loop in REPL possible</h->
        <h- data-h=kw_ctrl>pass</h->

    <h- data-h=kw_ctrl>return</h-> <h- data-h=num>0</h->


<h- data-h=kw_ctrl>if</h-> <h- data-h=name>__name__</h-> <h- data-h=sym_op>==</h-> <h- data-h=str_dlim>'</h-><h- data-h=str>__main__</h-><h- data-h=str_dlim>'</h-><h- data-h=sym_punc>:</h->
    <h- data-h=kw_ctrl>raise</h-> <h- data-h=name>SystemExit</h-><h- data-h=sym_par>(</h-><h- data-h=name>main</h-><h- data-h=sym_par>(</h-><h- data-h=sym_par>)</h-><h- data-h=sym_par>)</h->
